{{define "content"}}
<h1>Track Details</h1>

<div id="track-form-container" hx-get="/htmx/track/{{.Track.ID}}" hx-trigger="load">
    <div class="loading">Loading track...</div>
</div>

<div class="section" style="border-color: var(--warning); background: rgba(245, 158, 11, 0.1);">
    <div style="display: flex; align-items: center; gap: 12px; color: var(--warning);">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><path d="M12 9v4"/><path d="M12 17h.01"/></svg>
        <div>
            <strong>Destructive Operation</strong>
            <p style="margin: 4px 0 0; font-size: 0.85rem; color: var(--text-dim);">
                Clicking "Sync to File" will modify the actual audio file on disk. 
                If done incorrectly, this could cause data loss or playback issues. 
                Only use this if you know what you're doing.
            </p>
        </div>
    </div>
</div>


<div class="section">
    <h2>File Information</h2>
    <div style="font-size: 0.9rem; color: var(--text-dim);">
        <p><strong>File Path:</strong> {{.Track.FilePath}}</p>
        <p><strong>File Extension:</strong> {{.Track.FileExtension}}</p>
        <p><strong>Status:</strong> {{.Track.Status}}</p>
        <p><strong>Completed:</strong> {{if .Track.CompletedAt}}{{.Track.CompletedAt.Format "Jan 02, 2006 15:04"}}{{else}}N/A{{end}}</p>
    </div>
</div>

<div class="section">
    <h2>Audio Information</h2>
    <div style="font-size: 0.9rem; color: var(--text-dim);">
        <p><strong>BPM:</strong> {{if .Track.BPM}}{{.Track.BPM}}{{else}}N/A{{end}}</p>
        <p><strong>Key:</strong> {{.Track.Key}}{{if .Track.KeyScale}} {{.Track.KeyScale}}{{end}}</p>
        <p><strong>Replay Gain:</strong> {{if .Track.ReplayGain}}{{.Track.ReplayGain}} dB{{else}}N/A{{end}}</p>
        <p><strong>Peak:</strong> {{if .Track.Peak}}{{.Track.Peak}}{{else}}N/A{{end}}</p>
        <p><strong>Audio Quality:</strong> {{.Track.AudioQuality}}</p>
        <p><strong>Audio Mode:</strong> {{.Track.AudioModes}}</p>
    </div>
</div>

<div class="section">
    <h2>Additional Information</h2>
    <div style="font-size: 0.9rem; color: var(--text-dim);">
        <p><strong>Version:</strong> {{.Track.Version}}</p>
        <p><strong>URL:</strong> {{if .Track.URL}}<a href="{{.Track.URL}}" target="_blank">{{.Track.URL}}</a>{{else}}N/A{{end}}</p>
        <p><strong>Description:</strong> {{if .Track.Description}}{{.Track.Description}}{{else}}N/A{{end}}</p>
    </div>
</div>
{{end}}
